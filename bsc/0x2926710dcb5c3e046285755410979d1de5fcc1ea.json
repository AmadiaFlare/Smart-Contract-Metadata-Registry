{"name": "TransparentUpgradeableProxy", "chainId": 56, "address": "0x2926710DCB5c3e046285755410979D1DE5fCc1Ea", "metadata": {"output": {"abi": [{"inputs": [], "stateMutability": "nonpayable", "type": "constructor"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address[]", "name": "_allowed", "type": "address[]"}], "name": "AddAllowlistEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "bool", "name": "allowlist", "type": "bool"}], "name": "AllowlistEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "user", "type": "address"}, {"indexed": true, "internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"indexed": false, "internalType": "uint256", "name": "closePercent", "type": "uint256"}, {"components": [{"internalType": "address", "name": "user", "type": "address"}, {"internalType": "bool", "name": "isBuy", "type": "bool"}, {"internalType": "uint32", "name": "executionBlock", "type": "uint32"}, {"internalType": "uint32", "name": "executionTime", "type": "uint32"}, {"internalType": "bytes32", "name": "priceId", "type": "bytes32"}, {"internalType": "uint128", "name": "margin", "type": "uint128"}, {"internalType": "uint128", "name": "leverage", "type": "uint128"}, {"internalType": "uint128", "name": "openPrice", "type": "uint128"}, {"internalType": "uint128", "name": "slippage", "type": "uint128"}, {"internalType": "uint128", "name": "liquidationPrice", "type": "uint128"}, {"internalType": "uint128", "name": "profitTarget", "type": "uint128"}, {"internalType": "uint128", "name": "stopLoss", "type": "uint128"}, {"internalType": "uint128", "name": "maxPercentagePnL", "type": "uint128"}, {"internalType": "uint128", "name": "salt", "type": "uint128"}], "indexed": false, "internalType": "struct IRegistry.Trade", "name": "trade", "type": "tuple"}, {"components": [{"internalType": "uint128", "name": "grossPnL", "type": "uint128"}, {"internalType": "uint128", "name": "closeNet", "type": "uint128"}, {"internalType": "uint128", "name": "slippage", "type": "uint128"}, {"internalType": "int128", "name": "fundingFee", "type": "int128"}, {"internalType": "uint128", "name": "rolloverFee", "type": "uint128"}, {"internalType": "bool", "name": "isStop", "type": "bool"}, {"internalType": "bool", "name": "isLiquidated", "type": "bool"}], "indexed": false, "internalType": "struct ITradingCore.OnCloseTrade", "name": "onCloseTrade", "type": "tuple"}, {"components": [{"internalType": "uint128", "name": "oraclePrice", "type": "uint128"}, {"internalType": "uint128", "name": "liquidationFee", "type": "uint128"}, {"internalType": "uint128", "name": "settled", "type": "uint128"}, {"components": [{"internalType": "uint128", "name": "fee", "type": "uint128"}, {"internalType": "uint128", "name": "referredFee", "type": "uint128"}, {"internalType": "uint128", "name": "referralFee", "type": "uint128"}, {"internalType": "bytes32", "name": "referralCode", "type": "bytes32"}, {"internalType": "address", "name": "referrer", "type": "address"}], "internalType": "struct IFee.Fee", "name": "fees", "type": "tuple"}], "indexed": false, "internalType": "struct ITradingCore.AfterCloseTrade", "name": "afterCloseTrade", "type": "tuple"}, {"components": [{"components": [{"internalType": "int128", "name": "balance", "type": "int128"}, {"internalType": "uint32", "name": "lastUpdate", "type": "uint32"}], "internalType": "struct IRegistryCore.SignedBalance", "name": "feeBalance", "type": "tuple"}, {"internalType": "int128", "name": "feeBase", "type": "int128"}, {"components": [{"internalType": "int128", "name": "fundingFee", "type": "int128"}, {"internalType": "uint128", "name": "rolloverFee", "type": "uint128"}, {"internalType": "uint32", "name": "lastUpdate", "type": "uint32"}], "internalType": "struct IRegistryCore.AccruedFee", "name": "accruedFee", "type": "tuple"}], "indexed": false, "internalType": "struct IRegistryCore.OnOrderUpdate", "name": "onOrderUpdate", "type": "tuple"}], "name": "CloseMarketOrderEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"indexed": false, "internalType": "uint256", "name": "closePercent", "type": "uint256"}, {"indexed": false, "internalType": "uint128", "name": "limitPrice", "type": "uint128"}, {"indexed": false, "internalType": "bytes", "name": "returnData", "type": "bytes"}], "name": "FailedCloseMarketOrderEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint8", "name": "version", "type": "uint8"}], "name": "Initialized", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "user", "type": "address"}, {"indexed": true, "internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"components": [{"internalType": "address", "name": "user", "type": "address"}, {"internalType": "bool", "name": "isBuy", "type": "bool"}, {"internalType": "uint32", "name": "executionBlock", "type": "uint32"}, {"internalType": "uint32", "name": "executionTime", "type": "uint32"}, {"internalType": "bytes32", "name": "priceId", "type": "bytes32"}, {"internalType": "uint128", "name": "margin", "type": "uint128"}, {"internalType": "uint128", "name": "leverage", "type": "uint128"}, {"internalType": "uint128", "name": "openPrice", "type": "uint128"}, {"internalType": "uint128", "name": "slippage", "type": "uint128"}, {"internalType": "uint128", "name": "liquidationPrice", "type": "uint128"}, {"internalType": "uint128", "name": "profitTarget", "type": "uint128"}, {"internalType": "uint128", "name": "stopLoss", "type": "uint128"}, {"internalType": "uint128", "name": "maxPercentagePnL", "type": "uint128"}, {"internalType": "uint128", "name": "salt", "type": "uint128"}], "indexed": false, "internalType": "struct IRegistry.Trade", "name": "trade", "type": "tuple"}, {"components": [{"internalType": "uint128", "name": "fee", "type": "uint128"}, {"internalType": "uint128", "name": "referredFee", "type": "uint128"}, {"internalType": "uint128", "name": "referralFee", "type": "uint128"}, {"internalType": "bytes32", "name": "referralCode", "type": "bytes32"}, {"internalType": "address", "name": "referrer", "type": "address"}], "indexed": false, "internalType": "struct IFee.Fee", "name": "fee", "type": "tuple"}, {"components": [{"components": [{"internalType": "int128", "name": "balance", "type": "int128"}, {"internalType": "uint32", "name": "lastUpdate", "type": "uint32"}], "internalType": "struct IRegistryCore.SignedBalance", "name": "feeBalance", "type": "tuple"}, {"internalType": "int128", "name": "feeBase", "type": "int128"}, {"components": [{"internalType": "int128", "name": "fundingFee", "type": "int128"}, {"internalType": "uint128", "name": "rolloverFee", "type": "uint128"}, {"internalType": "uint32", "name": "lastUpdate", "type": "uint32"}], "internalType": "struct IRegistryCore.AccruedFee", "name": "accruedFee", "type": "tuple"}], "indexed": false, "internalType": "struct IRegistryCore.OnOrderUpdate", "name": "onOrderUpdate", "type": "tuple"}], "name": "OpenMarketOrderEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "previousOwner", "type": "address"}, {"indexed": true, "internalType": "address", "name": "newOwner", "type": "address"}], "name": "OwnershipTransferred", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address", "name": "account", "type": "address"}], "name": "Paused", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address[]", "name": "_removed", "type": "address[]"}], "name": "RemoveAllowlistEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "role", "type": "bytes32"}, {"indexed": true, "internalType": "bytes32", "name": "previousAdminRole", "type": "bytes32"}, {"indexed": true, "internalType": "bytes32", "name": "newAdminRole", "type": "bytes32"}], "name": "RoleAdminChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "role", "type": "bytes32"}, {"indexed": true, "internalType": "address", "name": "account", "type": "address"}, {"indexed": true, "internalType": "address", "name": "sender", "type": "address"}], "name": "RoleGranted", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "bytes32", "name": "role", "type": "bytes32"}, {"indexed": true, "internalType": "address", "name": "account", "type": "address"}, {"indexed": true, "internalType": "address", "name": "sender", "type": "address"}], "name": "RoleRevoked", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "contract AbstractOracleAggregator", "name": "oracleAggregator", "type": "address"}], "name": "SetOracleAggregatorEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "contract TraderFarm", "name": "traderFarm", "type": "address"}], "name": "SetTraderFarmEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "contract TradingCoreLib", "name": "tradingCoreLib", "type": "address"}], "name": "SetTradingCoreLibEvent", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address", "name": "account", "type": "address"}], "name": "Unpaused", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "user", "type": "address"}, {"indexed": true, "internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"components": [{"internalType": "address", "name": "user", "type": "address"}, {"internalType": "bool", "name": "isBuy", "type": "bool"}, {"internalType": "uint32", "name": "executionBlock", "type": "uint32"}, {"internalType": "uint32", "name": "executionTime", "type": "uint32"}, {"internalType": "bytes32", "name": "priceId", "type": "bytes32"}, {"internalType": "uint128", "name": "margin", "type": "uint128"}, {"internalType": "uint128", "name": "leverage", "type": "uint128"}, {"internalType": "uint128", "name": "openPrice", "type": "uint128"}, {"internalType": "uint128", "name": "slippage", "type": "uint128"}, {"internalType": "uint128", "name": "liquidationPrice", "type": "uint128"}, {"internalType": "uint128", "name": "profitTarget", "type": "uint128"}, {"internalType": "uint128", "name": "stopLoss", "type": "uint128"}, {"internalType": "uint128", "name": "maxPercentagePnL", "type": "uint128"}, {"internalType": "uint128", "name": "salt", "type": "uint128"}], "indexed": false, "internalType": "struct IRegistry.Trade", "name": "trade", "type": "tuple"}, {"components": [{"internalType": "bool", "name": "isAdding", "type": "bool"}, {"internalType": "uint128", "name": "marginDelta", "type": "uint128"}], "indexed": false, "internalType": "struct ITradingCore.OnUpdateTrade", "name": "onUpdateTrade", "type": "tuple"}, {"components": [{"components": [{"internalType": "int128", "name": "balance", "type": "int128"}, {"internalType": "uint32", "name": "lastUpdate", "type": "uint32"}], "internalType": "struct IRegistryCore.SignedBalance", "name": "feeBalance", "type": "tuple"}, {"internalType": "int128", "name": "feeBase", "type": "int128"}, {"components": [{"internalType": "int128", "name": "fundingFee", "type": "int128"}, {"internalType": "uint128", "name": "rolloverFee", "type": "uint128"}, {"internalType": "uint32", "name": "lastUpdate", "type": "uint32"}], "internalType": "struct IRegistryCore.AccruedFee", "name": "accruedFee", "type": "tuple"}], "indexed": false, "internalType": "struct IRegistryCore.OnOrderUpdate", "name": "onOrderUpdate", "type": "tuple"}], "name": "UpdateOpenOrderEvent", "type": "event"}, {"inputs": [], "name": "APPROVED_ROLE", "outputs": [{"internalType": "bytes32", "name": "", "type": "bytes32"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "DEFAULT_ADMIN_ROLE", "outputs": [{"internalType": "bytes32", "name": "", "type": "bytes32"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address[]", "name": "_allowed", "type": "address[]"}], "name": "addAllowlist", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"internalType": "bytes[]", "name": "priceData", "type": "bytes[]"}, {"internalType": "uint128", "name": "margin", "type": "uint128"}], "name": "addMargin", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [], "name": "allowlist", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "", "type": "address"}], "name": "allowlisted", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "baseToken", "outputs": [{"internalType": "contract ERC20", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"components": [{"internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"internalType": "uint128", "name": "limitPrice", "type": "uint128"}, {"internalType": "uint64", "name": "closePercent", "type": "uint64"}], "internalType": "struct IBook.CloseTradeInput", "name": "closeData", "type": "tuple"}, {"internalType": "bytes[]", "name": "priceData", "type": "bytes[]"}], "name": "closeMarketOrder", "outputs": [{"internalType": "uint128", "name": "settled", "type": "uint128"}], "stateMutability": "payable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "role", "type": "bytes32"}], "name": "getRoleAdmin", "outputs": [{"internalType": "bytes32", "name": "", "type": "bytes32"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "role", "type": "bytes32"}, {"internalType": "address", "name": "account", "type": "address"}], "name": "grantRole", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "role", "type": "bytes32"}, {"internalType": "address", "name": "account", "type": "address"}], "name": "hasRole", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "_owner", "type": "address"}, {"internalType": "contract AbstractOracleAggregator", "name": "_oracleAggregator", "type": "address"}, {"internalType": "contract ERC20", "name": "_baseToken", "type": "address"}, {"internalType": "contract IRegistryCore", "name": "_registry", "type": "address"}, {"internalType": "contract IPool", "name": "_liquidityPool", "type": "address"}, {"internalType": "contract IPool", "name": "_marginPool", "type": "address"}, {"internalType": "contract IDistributable", "name": "_revenuePool", "type": "address"}], "name": "initialize", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"internalType": "uint128", "name": "limitPrice", "type": "uint128"}, {"internalType": "uint64", "name": "closePercent", "type": "uint64"}], "internalType": "struct IBook.CloseTradeInput", "name": "closeData", "type": "tuple"}, {"internalType": "bytes[]", "name": "priceData", "type": "bytes[]"}], "name": "liquidateMarketOrder", "outputs": [{"internalType": "uint128", "name": "", "type": "uint128"}], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "liquidityPool", "outputs": [{"internalType": "contract IPool", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "marginPool", "outputs": [{"internalType": "contract IPool", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "offAllowlist", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "onAllowlist", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "bytes32", "name": "priceId", "type": "bytes32"}, {"internalType": "address", "name": "user", "type": "address"}, {"internalType": "bool", "name": "isBuy", "type": "bool"}, {"internalType": "uint128", "name": "margin", "type": "uint128"}, {"internalType": "uint128", "name": "leverage", "type": "uint128"}, {"internalType": "uint128", "name": "profitTarget", "type": "uint128"}, {"internalType": "uint128", "name": "stopLoss", "type": "uint128"}, {"internalType": "uint128", "name": "limitPrice", "type": "uint128"}], "internalType": "struct IBook.OpenTradeInput", "name": "openData", "type": "tuple"}, {"internalType": "uint128", "name": "openPrice", "type": "uint128"}], "name": "openMarketOrder", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "bytes32", "name": "priceId", "type": "bytes32"}, {"internalType": "address", "name": "user", "type": "address"}, {"internalType": "bool", "name": "isBuy", "type": "bool"}, {"internalType": "uint128", "name": "margin", "type": "uint128"}, {"internalType": "uint128", "name": "leverage", "type": "uint128"}, {"internalType": "uint128", "name": "profitTarget", "type": "uint128"}, {"internalType": "uint128", "name": "stopLoss", "type": "uint128"}, {"internalType": "uint128", "name": "limitPrice", "type": "uint128"}], "internalType": "struct IBook.OpenTradeInput", "name": "openData", "type": "tuple"}, {"internalType": "bytes[]", "name": "priceData", "type": "bytes[]"}], "name": "openMarketOrder", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [], "name": "oracleAggregator", "outputs": [{"internalType": "contract AbstractOracleAggregator", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "owner", "outputs": [{"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "pause", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "paused", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "registry", "outputs": [{"internalType": "contract IRegistryCore", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address[]", "name": "_removed", "type": "address[]"}], "name": "removeAllowlist", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"internalType": "bytes[]", "name": "priceData", "type": "bytes[]"}, {"internalType": "uint128", "name": "margin", "type": "uint128"}], "name": "removeMargin", "outputs": [], "stateMutability": "payable", "type": "function"}, {"inputs": [], "name": "renounceOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "role", "type": "bytes32"}, {"internalType": "address", "name": "account", "type": "address"}], "name": "renounceRole", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "revenuePool", "outputs": [{"internalType": "contract IDistributable", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "role", "type": "bytes32"}, {"internalType": "address", "name": "account", "type": "address"}], "name": "revokeRole", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "contract AbstractOracleAggregator", "name": "_oracleAggregator", "type": "address"}], "name": "setOracleAggregator", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "contract TraderFarm", "name": "_traderFarm", "type": "address"}], "name": "setTraderFarm", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "contract TradingCoreLib", "name": "_tradingCoreLib", "type": "address"}], "name": "setTradingCoreLib", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes4", "name": "interfaceId", "type": "bytes4"}], "name": "supportsInterface", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "traderFarm", "outputs": [{"internalType": "contract TraderFarm", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "tradingCoreLib", "outputs": [{"internalType": "contract TradingCoreLib", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "newOwner", "type": "address"}], "name": "transferOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "unpause", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "bytes32", "name": "orderHash", "type": "bytes32"}, {"internalType": "bytes[]", "name": "priceData", "type": "bytes[]"}, {"internalType": "uint128", "name": "profitTarget", "type": "uint128"}, {"internalType": "uint128", "name": "stopLoss", "type": "uint128"}], "name": "updateStop", "outputs": [], "stateMutability": "payable", "type": "function"}]}}, "version": 1, "checkPoints": [], "isProxy": true, "principalAddress": "0x7cf574F4839574aAB9A41834033114378837E6d1"}