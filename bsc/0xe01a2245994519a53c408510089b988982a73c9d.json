{"name": "TransparentUpgradeableProxy", "chainId": 56, "address": "0xe01a2245994519A53c408510089B988982a73c9D", "metadata": {"output": {"abi": [{"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "account", "type": "address"}, {"indexed": true, "internalType": "bool", "name": "isProvider", "type": "bool"}], "name": "BackstopLiquidityProviderChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint8", "name": "version", "type": "uint8"}], "name": "Initialized", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "liquidationFeeRatio", "type": "uint256"}], "name": "LiquidationFeeRatioChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "liquidatorFeeRatio", "type": "uint256"}], "name": "LiquidatorFeeRatioChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "sender", "type": "address"}, {"indexed": true, "internalType": "address", "name": "amm", "type": "address"}, {"indexed": false, "internalType": "int256", "name": "amount", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "fundingPayment", "type": "int256"}], "name": "MarginChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "marginRatio", "type": "uint256"}], "name": "MarginRatioChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "previousOwner", "type": "address"}, {"indexed": true, "internalType": "address", "name": "newOwner", "type": "address"}], "name": "OwnershipTransferred", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address", "name": "account", "type": "address"}], "name": "Paused", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "amm", "type": "address"}, {"indexed": true, "internalType": "address", "name": "trader", "type": "address"}, {"indexed": false, "internalType": "int256", "name": "newPositionSize", "type": "int256"}, {"indexed": false, "internalType": "uint256", "name": "oldLiquidityIndex", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "newLiquidityIndex", "type": "uint256"}], "name": "PositionAdjusted", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "trader", "type": "address"}, {"indexed": true, "internalType": "address", "name": "amm", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "margin", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "positionNotional", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "exchangedPositionSize", "type": "int256"}, {"indexed": false, "internalType": "uint256", "name": "fee", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "positionSizeAfter", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "realizedPnl", "type": "int256"}, {"indexed": false, "internalType": "int256", "name": "unrealizedPnlAfter", "type": "int256"}, {"indexed": false, "internalType": "uint256", "name": "badDebt", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "liquidationPenalty", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "spotPrice", "type": "uint256"}, {"indexed": false, "internalType": "int256", "name": "fundingPayment", "type": "int256"}], "name": "PositionChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "trader", "type": "address"}, {"indexed": true, "internalType": "address", "name": "amm", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "positionNotional", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "positionSize", "type": "uint256"}, {"indexed": false, "internalType": "uint256", "name": "liquidationFee", "type": "uint256"}, {"indexed": false, "internalType": "address", "name": "liquidator", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "badDebt", "type": "uint256"}], "name": "PositionLiquidated", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "amm", "type": "address"}, {"indexed": true, "internalType": "address", "name": "trader", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "valueTransferred", "type": "uint256"}], "name": "PositionSettled", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "referralDiscountFeeRatio", "type": "uint256"}], "name": "ReferralDiscountFeeRatioChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "uint256", "name": "referralFeeRatio", "type": "uint256"}], "name": "ReferralFeeRatioChanged", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address", "name": "amm", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "blockNumber", "type": "uint256"}], "name": "RestrictionModeEntered", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": false, "internalType": "address", "name": "account", "type": "address"}], "name": "Unpaused", "type": "event"}, {"anonymous": false, "inputs": [{"indexed": true, "internalType": "address", "name": "user", "type": "address"}, {"indexed": false, "internalType": "uint256", "name": "referralFeeRatio", "type": "uint256"}], "name": "UserReferralFeeRatioChanged", "type": "event"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_addedMargin", "type": "tuple"}], "name": "addMargin", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "alphaWhitelist", "outputs": [{"internalType": "contract IAlphaWhitelist", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "", "type": "address"}], "name": "arbitragers", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "", "type": "address"}], "name": "backstopLiquidityProviderMap", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_quoteAssetAmount", "type": "tuple"}], "name": "calcFee", "outputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "fee", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_percentage", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_quoteAssetAmountLimit", "type": "tuple"}], "name": "closePartialPosition", "outputs": [{"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "exchangedPositionSize", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "exchangedQuoteAmount", "type": "tuple"}], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_quoteAssetAmountLimit", "type": "tuple"}], "name": "closePosition", "outputs": [{"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "exchangedPositionSize", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "exchangedQuoteAmount", "type": "tuple"}], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "feeDistributor", "outputs": [{"internalType": "contract IFeeDistributor", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "feeRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}], "name": "getLatestCumulativePremiumFraction", "outputs": [{"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"internalType": "address", "name": "_trader", "type": "address"}], "name": "getMarginRatio", "outputs": [{"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"internalType": "address", "name": "_trader", "type": "address"}], "name": "getPosition", "outputs": [{"components": [{"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "size", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "margin", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "openNotional", "type": "tuple"}, {"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "lastUpdatedCumulativePremiumFraction", "type": "tuple"}, {"internalType": "uint256", "name": "liquidityHistoryIndex", "type": "uint256"}, {"internalType": "uint256", "name": "blockNumber", "type": "uint256"}], "internalType": "struct IClearingHouse.Position", "name": "", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"internalType": "address", "name": "_trader", "type": "address"}, {"internalType": "enum IClearingHouse.PnlCalcOption", "name": "_pnlCalcOption", "type": "uint8"}], "name": "getPositionNotionalAndUnrealizedPnl", "outputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "positionNotional", "type": "tuple"}, {"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "unrealizedPnl", "type": "tuple"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "initMarginRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "uint256", "name": "_initMarginRatio", "type": "uint256"}, {"internalType": "uint256", "name": "_maintenanceMarginRatio", "type": "uint256"}, {"internalType": "uint256", "name": "_partialLiquidationRatio", "type": "uint256"}, {"internalType": "uint256", "name": "_liquidationFeeRatio", "type": "uint256"}, {"internalType": "contract IInsuranceFund", "name": "_insuranceFund", "type": "address"}, {"internalType": "uint256", "name": "_feeRatio", "type": "uint256"}], "name": "initialize", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "insuranceFund", "outputs": [{"internalType": "contract IInsuranceFund", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"internalType": "address", "name": "_trader", "type": "address"}], "name": "liquidate", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"internalType": "address", "name": "_trader", "type": "address"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_quoteAssetAmountLimit", "type": "tuple"}], "name": "liquidateWithSlippage", "outputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "quoteAssetAmount", "type": "tuple"}, {"internalType": "bool", "name": "isPartialClose", "type": "bool"}], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "liquidationFeeRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "liquidatorFeeRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "maintenanceMarginRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "address", "name": "", "type": "address"}], "name": "openInterestNotionalMap", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"internalType": "enum IClearingHouse.Side", "name": "_side", "type": "uint8"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_quoteAssetAmount", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_leverage", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_baseAssetAmountLimit", "type": "tuple"}], "name": "openPosition", "outputs": [{"components": [{"internalType": "int256", "name": "d", "type": "int256"}], "internalType": "struct SignedDecimal.signedDecimal", "name": "exchangedPositionSize", "type": "tuple"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "exchangedQuoteAmount", "type": "tuple"}], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "owner", "outputs": [{"internalType": "address", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "partialLiquidationRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "pause", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "paused", "outputs": [{"internalType": "bool", "name": "", "type": "bool"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}], "name": "payFunding", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "quoteToken", "outputs": [{"internalType": "contract IERC20", "name": "", "type": "address"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "referralDiscountFeeRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [], "name": "referralFeeRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_removedMargin", "type": "tuple"}], "name": "removeMargin", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "renounceOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "_arbitrager", "type": "address"}, {"internalType": "bool", "name": "_whitelist", "type": "bool"}], "name": "setAbitrager", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "_alphaWhitelist", "type": "address"}], "name": "setAlphaWhitelist", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "account", "type": "address"}, {"internalType": "bool", "name": "isProvider", "type": "bool"}], "name": "setBackstopLiquidityProvider", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "_feeDistributor", "type": "address"}], "name": "setFeeDistributor", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_liquidationFeeRatio", "type": "tuple"}], "name": "setLiquidationFeeRatio", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_liquidatorFeeRatio", "type": "tuple"}], "name": "setLiquidatorFeeRatio", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_maintenanceMarginRatio", "type": "tuple"}], "name": "setMaintenanceMarginRatio", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_ratio", "type": "tuple"}], "name": "setPartialLiquidationRatio", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_referralDiscountFeeRatio", "type": "tuple"}], "name": "setReferralDiscountFeeRatio", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_referralFeeRatio", "type": "tuple"}], "name": "setReferralFeeRatio", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "_user", "type": "address"}, {"components": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "internalType": "struct Decimal.decimal", "name": "_referralFeeRatio", "type": "tuple"}], "name": "setUserReferralFeeRatio", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "contract IAmm", "name": "_amm", "type": "address"}], "name": "settlePosition", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "newOwner", "type": "address"}], "name": "transferOwnership", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [], "name": "unpause", "outputs": [], "stateMutability": "nonpayable", "type": "function"}, {"inputs": [{"internalType": "address", "name": "", "type": "address"}], "name": "userReferralFeeRatio", "outputs": [{"internalType": "uint256", "name": "d", "type": "uint256"}], "stateMutability": "view", "type": "function"}]}}, "version": 1, "checkPoints": [], "isProxy": true, "principalAddress": "0xc7C54C447B59D081fd52517Eb5553Ec81388C67d"}